---
import Badge from '../ui/Badge.astro';
import Button from '../ui/Button.astro';
import Icon from '../ui/Icon.astro';
import ParallaxSection from '../animations/ParallaxSection.astro';

interface Props {
  title: string;
  description: string;
  image: string;
  tags: string[];
  liveUrl?: string;
  githubUrl?: string;
  client?: string;
  year: string;
  category: string;
}

const { title, description, image, tags, liveUrl, githubUrl, client, year, category } = Astro.props;
---

<ParallaxSection speed={0.5}>
  <div class="relative min-h-[70vh] flex items-center">
    <!-- Background Image with Overlay -->
    <div class="absolute inset-0 z-0">
      <img
        src={image}
        alt={title}
        class="w-full h-full object-cover"
      />
      <div class="absolute inset-0 bg-gradient-to-b from-gray-900/90 via-gray-900/80 to-gray-900"></div>
    </div>

    <!-- Content -->
    <div class="relative z-10 container mx-auto px-4 py-20">
      <div class="max-w-4xl">
        <!-- Meta Info -->
        <div class="flex flex-wrap items-center gap-4 mb-6 text-sm text-gray-400">
          {client && (
            <div class="flex items-center gap-2">
              <Icon name="briefcase" class="w-4 h-4" />
              <span>{client}</span>
            </div>
          )}
          <div class="flex items-center gap-2">
            <Icon name="calendar" class="w-4 h-4" />
            <span>{year}</span>
          </div>
          <div class="flex items-center gap-2">
            <Icon name="folder" class="w-4 h-4" />
            <span>{category}</span>
          </div>
        </div>

        <!-- Title -->
        <h1 class="text-5xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-white via-blue-100 to-purple-100 text-transparent bg-clip-text">
          {title}
        </h1>

        <!-- Description -->
        <p class="text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed">
          {description}
        </p>

        <!-- Tags -->
        <div class="flex flex-wrap gap-2 mb-8">
          {tags.map((tag) => (
            <Badge size="lg">{tag}</Badge>
          ))}
        </div>

        <!-- CTAs -->
        <div class="flex flex-wrap gap-4">
          {liveUrl && (
            <Button href={liveUrl} variant="primary" size="lg" external>
              <Icon name="external-link" class="w-5 h-5" />
              Se Live Site
            </Button>
          )}
          {githubUrl && (
            <Button href={githubUrl} variant="outline" size="lg" external>
              <Icon name="github" class="w-5 h-5" />
              View Code
            </Button>
          )}
        </div>
      </div>
    </div>

    <!-- Scroll Indicator -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
      <Icon name="chevron-down" class="w-8 h-8 text-gray-400" />
    </div>
  </div>
</ParallaxSection>
